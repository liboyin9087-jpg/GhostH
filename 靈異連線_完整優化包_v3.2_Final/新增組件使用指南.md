# æ–°å¢çµ„ä»¶ä½¿ç”¨æŒ‡å—

æœ¬æ–‡æª”èªªæ˜å„ªåŒ–åŒ… v3.0 æ–°å¢çš„å…©å€‹æ ¸å¿ƒçµ„ä»¶ï¼šéˆé­‚å¥‘ç´„ç³»çµ±ï¼ˆuseSoulBindingï¼‰å’Œç¬¦å’’ç”Ÿæˆå™¨ï¼ˆTalismanGeneratorï¼‰ã€‚

---

## ğŸ“¦ æ–°å¢çµ„ä»¶ç¸½è¦½

### 1. useSoulBinding Hook
**æª”æ¡ˆä½ç½®**: `src/hooks/useSoulBinding.ts`  
**ç¨‹å¼ç¢¼è¡Œæ•¸**: ç´„ 150 è¡Œ  
**æ ¸å¿ƒåŠŸèƒ½**:
- 333 ç§’éˆé­‚å¥‘ç´„å€’æ•¸è¨ˆæ™‚å™¨
- AI é¬¼é­‚å°éŠè…³æœ¬ç³»çµ±ï¼ˆ14 å€‹è§¸ç™¼é»ï¼‰
- åˆ†é åˆ‡æ›åµæ¸¬èˆ‡æ‡²ç½°æ©Ÿåˆ¶
- å‹•æ…‹é›œè¨Šå¼·åº¦æ§åˆ¶
- å¥‘ç´„æŒ‰éˆ•è§£é–æ©Ÿåˆ¶

### 2. TalismanGenerator çµ„ä»¶
**æª”æ¡ˆä½ç½®**: `src/components/TalismanGenerator.tsx`  
**ç¨‹å¼ç¢¼è¡Œæ•¸**: ç´„ 180 è¡Œ  
**æ ¸å¿ƒåŠŸèƒ½**:
- Canvas å‹•æ…‹ç¹ªè£½å€‹äººåŒ–ç¬¦å’’
- IG Story å°ºå¯¸ (1080x1920)
- åŒ…å«ç©å®¶è³‡è¨Šï¼ˆå§“åã€ææ‡¼å€¼ã€å­˜æ´»æ™‚é–“ï¼‰
- ä¸€éµä¸‹è¼‰ PNG åœ–ç‰‡
- é‡æ–°ç”ŸæˆåŠŸèƒ½ï¼ˆéš¨æ©Ÿé›œè¨Šæ•ˆæœï¼‰

---

## ğŸ¯ useSoulBinding Hook è©³ç´°èªªæ˜

### åŸºç¤ä½¿ç”¨

```typescript
import { useSoulBinding } from './hooks/useSoulBinding';

function MyComponent() {
  const {
    timeLeft,        // å‰©é¤˜ç§’æ•¸ (number)
    formattedTime,   // æ ¼å¼åŒ–æ™‚é–“ "MM:SS" (string)
    isCursed,        // æ˜¯å¦è¢«è©›å’’ (boolean)
    currentMessage,  // AI ç•¶å‰è¨Šæ¯ (string | null)
    messageIntensity,// è¨Šæ¯å¼·åº¦ ('low' | 'medium' | 'high')
    glitchIntensity, // é›œè¨Šå¼·åº¦ 0-1 (number)
    isContractReady, // å¥‘ç´„æ˜¯å¦å°±ç·’ (boolean)
    resetTimer,      // é‡ç½®è¨ˆæ™‚å™¨ (function)
  } = useSoulBinding();

  return (
    <div>
      <p>å‰©é¤˜æ™‚é–“: {formattedTime}</p>
      {currentMessage && <p>{currentMessage}</p>}
    </div>
  );
}
```

### é€²éšé¸é …é…ç½®

```typescript
const options = {
  startTime: 333,  // è‡ªè¨‚èµ·å§‹æ™‚é–“ï¼ˆé è¨­ 333 ç§’ï¼‰
  onCursed: () => {
    // ç©å®¶è¢«è©›å’’æ™‚çš„å›èª¿å‡½æ•¸
    console.log('ç©å®¶åˆ‡æ›åˆ†é äº†ï¼');
    playScream(); // æ’­æ”¾éŸ³æ•ˆ
  },
  onContractReady: () => {
    // å¥‘ç´„å°±ç·’æ™‚çš„å›èª¿å‡½æ•¸
    console.log('333 ç§’å€’æ•¸å®Œæˆï¼');
    showConfetti(); // é¡¯ç¤ºå½©å¸¶æ•ˆæœ
  }
};

const { ... } = useSoulBinding(options);
```

### AI é¬¼é­‚å°éŠè…³æœ¬

Hook å…§å»ºäº† 14 å€‹é è¨­è§¸ç™¼é»ï¼Œæœƒåœ¨ç‰¹å®šæ™‚é–“è‡ªå‹•é¡¯ç¤ºè¨Šæ¯ï¼š

| å‰©é¤˜ç§’æ•¸ | è¨Šæ¯å…§å®¹ | å¼·åº¦ |
|---------|---------|------|
| 300s | "é€™ä¸æ˜¯æ™®é€šçš„ç¶²é ...åˆ¥è®“å®ƒç™¼ç¾ä½ çœ‹å¾—åˆ°ã€‚" | Low |
| 250s | "æˆ‘çœ‹åˆ°ä½ äº†..." | Low |
| 200s | "ä½ çš„èƒŒå¾Œ...æ˜¯ä¸æ˜¯æ¶¼æ¶¼çš„ï¼Ÿ" | Low |
| 180s | "â—‹æ¨“çš„èµ°å»Šå¾ˆå®‰éœï¼Œå¤ªå®‰éœäº†ã€‚" | Medium |
| 144s | "åˆ¥åˆ‡æ›è¦–çª—ã€‚å®ƒä¸å–œæ­¡ä½ åˆ†å¿ƒã€‚" | Medium |
| 120s | "ä½ æœ‰è½åˆ°...æ¨è»Šçš„è²éŸ³å—ï¼Ÿ" | Medium |
| 90s | "æœ¬å‘½ç‡ˆé–‹å§‹æ–æ™ƒäº†..." | Medium |
| 60s | "æˆ‘åœ¨ææ—é†«é™¢çš„â—‹æ¨“ç­‰ä½ ..." | High |
| 33s | "03:33 å¿«åˆ°äº†ã€‚æº–å‚™å¥½äº†å—ï¼Ÿ" | High |
| 10s | "åˆ¥å›é ­ã€‚åˆ¥å›é ­ã€‚åˆ¥å›é ­ã€‚" | High |
| 3s | "ä¸‰" | High |
| 2s | "äºŒ" | High |
| 1s | "ä¸€" | High |
| 0s | "æ™‚é–“åˆ°ã€‚ä½ ç¾åœ¨å±¬æ–¼æˆ‘å€‘äº†ã€‚" | High |

### æ‡²ç½°æ©Ÿåˆ¶èªªæ˜

**è§¸ç™¼æ¢ä»¶**: ç©å®¶åˆ‡æ›åˆ†é ï¼ˆdocument.hidden äº‹ä»¶ï¼‰

**æ‡²ç½°æ•ˆæœ**:
1. `isCursed` ç‹€æ…‹è¨­ç‚º `true` (æŒçºŒ 3 ç§’)
2. è¨ˆæ™‚å™¨é‡ç½®ç‚º 333 ç§’
3. é¡¯ç¤ºè­¦å‘Šè¨Šæ¯: "ä½ ä»¥ç‚ºé€ƒå¾—æ‰ï¼Ÿ (æ™‚é–“é‡ç½®)"
4. é›œè¨Šå¼·åº¦ç¬é–“æ‹‰åˆ°æœ€å¤§ (1.0)
5. è§¸ç™¼ `onCursed` å›èª¿å‡½æ•¸

**è¦–è¦ºæ•ˆæœå»ºè­°**:
```tsx
{isCursed && (
  <div className="fixed inset-0 bg-red-600 mix-blend-multiply z-[100] flex items-center justify-center animate-pulse">
    <h1 className="text-9xl font-black text-black">åˆ¥èµ°!</h1>
  </div>
)}
```

---

## ğŸ¨ TalismanGenerator çµ„ä»¶è©³ç´°èªªæ˜

### åŸºç¤ä½¿ç”¨

```tsx
import TalismanGenerator from './components/TalismanGenerator';

function MyPage() {
  return (
    <TalismanGenerator
      playerName="å°é›…"
      fearLevel={75}
      survivalTime={258}
    />
  );
}
```

### Props èªªæ˜

| Prop | é¡å‹ | å¿…å¡« | é è¨­å€¼ | èªªæ˜ |
|------|------|------|--------|------|
| `playerName` | string | âŒ | 'å€–å­˜è€…' | ç©å®¶å§“åï¼ˆå°åœ¨ç¬¦å’’ä¸Šï¼‰ |
| `fearLevel` | number | âœ… | - | ææ‡¼å€¼ (0-100) |
| `survivalTime` | number | âœ… | - | å­˜æ´»æ™‚é–“ï¼ˆç§’ï¼‰ |

### ç¬¦å’’å…§å®¹èªªæ˜

ç”Ÿæˆçš„ç¬¦å’’åŒ…å«ä»¥ä¸‹å…ƒç´ ï¼š

1. **èƒŒæ™¯**: é»ƒè‰²ç¬¦ç´™ (#E6C683) + éš¨æ©Ÿé›œè¨Š
2. **é‚Šæ¡†**: é»‘è‰²å¤–æ¡† + ç´…è‰²å…§æ¡†
3. **ç¬¦é ­**: ã€Œæ••ä»¤ã€äºŒå­—ï¼ˆæ¥·é«”ï¼‰
4. **ç¬¦èº«**: ã€Œè¦–ç·šä¸ç§»ã€å››å€‹å¤§å­—ï¼ˆæœ±ç ‚ç´…ï¼‰
5. **æ•¸æ“šå°ç« **:
   - ç©å®¶ ID
   - æ—¥æœŸæ™‚é–“
   - å­˜æ´»æ™‚é–“
   - ææ‡¼å€¼ (å«é€²åº¦æ¢)
6. **é†«é™¢å°ç« **: ã€Œææ—é†«é™¢ã€ç´…è‰²æ–¹å°ï¼ˆå‚¾æ–œï¼‰
7. **CRT æ•…éšœç·šæ¢**: ç¶ è‰²æ©«ç·šï¼ˆæ¨¡æ“¬ç›£è¦–å™¨æ•…éšœï¼‰
8. **è­¦å‘Šæ–‡å­—**: ã€Œæ­¤ç¬¦æ•ˆåŠ›æœ‰é™ / è«‹å‹¿å–®ç¨å‰å¾€â—‹æ¨“ã€

### ææ‡¼å€¼è‰²å½©æ˜ å°„

é€²åº¦æ¢é¡è‰²æœƒæ ¹æ“šææ‡¼å€¼å‹•æ…‹è®ŠåŒ–ï¼š

```typescript
fearLevel > 80  â†’ ç´…è‰² (#FF0000)
fearLevel > 50  â†’ æ©™è‰² (#FFA500)
fearLevel â‰¤ 50  â†’ ç¶ è‰² (#00FF41)
```

### ä¸‹è¼‰åŠŸèƒ½

é»æ“Šã€Œä¸‹è¼‰ç¬¦å’’ã€æŒ‰éˆ•å¾Œï¼š
- æª”åæ ¼å¼: `talisman_ç©å®¶å_æ™‚é–“æˆ³.png`
- ä¾‹å¦‚: `talisman_å°é›…_1702425600000.png`
- åœ–ç‰‡æ ¼å¼: PNG (ç„¡èƒŒæ™¯å£“ç¸®)
- åœ–ç‰‡å°ºå¯¸: 1080Ã—1920 (IG Story æ¨™æº–å°ºå¯¸)

### é‡æ–°ç”ŸæˆåŠŸèƒ½

æ¯æ¬¡ç”Ÿæˆçš„ç¬¦å’’é›œè¨Šæ•ˆæœéƒ½ä¸åŒï¼Œé»æ“Šå³ä¸Šè§’ã€Œåˆ·æ–°ã€æŒ‰éˆ•å¯é‡æ–°ç”Ÿæˆï¼š
- é›œè¨Šä½ç½®éš¨æ©Ÿ
- æ–‡å­—æŠ–å‹•æ•ˆæœéš¨æ©Ÿ
- CRT æ•…éšœç·šæ¢ä½ç½®éš¨æ©Ÿ

---

## ğŸš€ å®Œæ•´æ•´åˆç¯„ä¾‹

è«‹åƒè€ƒ `EXAMPLE_LandingPage.tsx` æŸ¥çœ‹å®Œæ•´çš„æ•´åˆç¯„ä¾‹ï¼Œè©²ç¯„ä¾‹å±•ç¤ºäº†ï¼š

1. **å€’æ•¸è¨ˆæ™‚å™¨æ•´åˆ**
   - é¡¯ç¤ºæ ¼å¼åŒ–æ™‚é–“
   - å€’æ•¸å®Œæˆå¾Œè§£é–å¥‘ç´„æŒ‰éˆ•
   - åˆ†é åˆ‡æ›æ‡²ç½°æ©Ÿåˆ¶

2. **AI è¨Šæ¯ç³»çµ±æ•´åˆ**
   - æ ¹æ“šå¼·åº¦å‹•æ…‹èª¿æ•´æ¨£å¼
   - è¨Šæ¯è‡ªå‹•æ¶ˆå¤±æ©Ÿåˆ¶
   - é…åˆ CRT é›œè¨Šæ•ˆæœ

3. **ç¬¦å’’ç”Ÿæˆå™¨æ•´åˆ**
   - å¥‘ç´„ç°½è¨‚å¾Œé¡¯ç¤ºç¬¦å’’
   - å‹•æ…‹å‚³å…¥ç©å®¶è³‡è¨Š
   - é‡æ–°é–‹å§‹åŠŸèƒ½

4. **å…¨è¢å¹•æ‡²ç½°æ•ˆæœ**
   - ç´…è‰²è¦†è“‹å±¤
   - è„ˆè¡å‹•ç•«
   - è­¦å‘Šæ–‡å­—

### é—œéµæ•´åˆæ­¥é©Ÿ

**æ­¥é©Ÿ 1**: è¨­å®š useSoulBinding Hook

```tsx
const {
  timeLeft,
  formattedTime,
  isCursed,
  currentMessage,
  glitchIntensity,
  isContractReady,
} = useSoulBinding({
  startTime: 333,
  onCursed: () => {
    console.log('ç©å®¶è¢«è©›å’’äº†ï¼');
  },
});
```

**æ­¥é©Ÿ 2**: å°‡é›œè¨Šå¼·åº¦å‚³çµ¦ CRTOverlay

```tsx
<CRTOverlay intensity={glitchIntensity * 100} />
```

**æ­¥é©Ÿ 3**: é¡¯ç¤º AI è¨Šæ¯

```tsx
{currentMessage && (
  <div className="fixed top-1/4 text-center z-50">
    <p>{currentMessage}</p>
  </div>
)}
```

**æ­¥é©Ÿ 4**: æ¢ä»¶æ¸²æŸ“å¥‘ç´„æŒ‰éˆ•

```tsx
{isContractReady ? (
  <CursedButton onClick={handleContractSign}>
    ç°½ä¸‹ç”Ÿæ­»ç‹€
  </CursedButton>
) : (
  <button disabled>
    ç­‰å¾…é€£ç·šç©©å®š... ({timeLeft}s)
  </button>
)}
```

**æ­¥é©Ÿ 5**: ç°½è¨‚å¥‘ç´„å¾Œé¡¯ç¤ºç¬¦å’’

```tsx
{showTalisman && (
  <TalismanGenerator
    playerName={playerName}
    fearLevel={Math.floor((1 - timeLeft / 333) * 100)}
    survivalTime={333 - timeLeft}
  />
)}
```

---

## ğŸ“Š æ•ˆèƒ½å„ªåŒ–å»ºè­°

### Canvas å„ªåŒ–

TalismanGenerator ä½¿ç”¨ Canvas API ç¹ªè£½ç¬¦å’’ï¼Œç‚ºé¿å…æ•ˆèƒ½å•é¡Œï¼š

1. **å»¶é²æ¸²æŸ“**: `useEffect` ä¸­ä½¿ç”¨ `setTimeout(drawTalisman, 500)` ç¢ºä¿å­—é«”è¼‰å…¥
2. **éš±è— Canvas**: å¯¦éš› Canvas å…ƒç´ è¨­ç‚º `display: none`ï¼Œåªé¡¯ç¤ºç”Ÿæˆçš„åœ–ç‰‡
3. **é¿å…é »ç¹é‡ç¹ª**: åªåœ¨ props è®ŠåŒ–æ™‚é‡ç¹ªï¼ˆReact ä¾è³´é™£åˆ—ï¼‰

### è¨ˆæ™‚å™¨å„ªåŒ–

useSoulBinding ä½¿ç”¨ `setInterval`ï¼Œç‚ºé¿å…è¨˜æ†¶é«”æ´©æ¼ï¼š

1. **æ¸…ç†å‡½æ•¸**: æ¯å€‹ `useEffect` éƒ½æ­£ç¢ºè¿”å›æ¸…ç†å‡½æ•¸
2. **æ¢ä»¶åˆ¤æ–·**: `if (timeLeft <= 0) return` é¿å…ä¸å¿…è¦çš„è¨ˆæ™‚å™¨è¨­ç½®
3. **äº‹ä»¶ç›£è½å™¨æ¸…ç†**: `removeEventListener` ç¢ºä¿æ­£ç¢ºç§»é™¤

---

## ğŸ® ä½¿ç”¨æƒ…å¢ƒ

### æƒ…å¢ƒ 1: å‹Ÿè³‡é é¢ä¸»è¦ CTA

```tsx
function FundingPage() {
  const { isContractReady, timeLeft } = useSoulBinding();
  
  return (
    <main>
      {/* å…¶ä»–å…§å®¹ */}
      
      {isContractReady ? (
        <CursedButton onClick={redirectToBackerKit}>
          ç«‹å³è´ŠåŠ©å°ˆæ¡ˆ
        </CursedButton>
      ) : (
        <div>
          è«‹ç­‰å¾… {timeLeft} ç§’å¾Œè§£é–è´ŠåŠ©æ¬Šé™...
        </div>
      )}
    </main>
  );
}
```

### æƒ…å¢ƒ 2: ç¤¾ç¾¤åˆ†äº«æ´»å‹•

```tsx
function SocialCampaign() {
  const [playerName, setPlayerName] = useState('');
  const { timeLeft } = useSoulBinding({ startTime: 60 }); // 1 åˆ†é˜çŸ­ç‰ˆ
  
  return (
    <div>
      <h2>ç²å¾—å°ˆå±¬ç¬¦å’’</h2>
      <input 
        value={playerName} 
        onChange={e => setPlayerName(e.target.value)}
        placeholder="è¼¸å…¥ä½ çš„åå­—"
      />
      
      {timeLeft === 0 && (
        <TalismanGenerator
          playerName={playerName}
          fearLevel={50}
          survivalTime={60}
        />
      )}
    </div>
  );
}
```

### æƒ…å¢ƒ 3: Demo é«”é©—å€

```tsx
function DemoSection() {
  const {
    currentMessage,
    messageIntensity,
    glitchIntensity,
  } = useSoulBinding();
  
  return (
    <section className="relative">
      <CRTOverlay intensity={glitchIntensity * 100} />
      
      <h2>é«”é©—éŠæˆ²æ ¸å¿ƒæ©Ÿåˆ¶</h2>
      <p>AI æœƒåœ¨éç¨‹ä¸­èˆ‡ä½ å°è©±...</p>
      
      {currentMessage && (
        <AIMessageBubble 
          message={currentMessage}
          intensity={messageIntensity}
        />
      )}
    </section>
  );
}
```

---

## âš ï¸ æ³¨æ„äº‹é …

### useSoulBinding Hook

1. **åˆ†é åˆ‡æ›åµæ¸¬åƒ…åœ¨æ¡Œé¢æœ‰æ•ˆ**: æ‰‹æ©Ÿç€è¦½å™¨çš„ `visibilitychange` è¡Œç‚ºå¯èƒ½ä¸ä¸€è‡´
2. **æ™‚é–“é‡ç½®æ©Ÿåˆ¶**: ç¢ºä¿ä½¿ç”¨è€…æ¸…æ¥šç†è§£æ‡²ç½°æ©Ÿåˆ¶ï¼Œé¿å…é€ æˆæŒ«æŠ˜æ„Ÿ
3. **å›èª¿å‡½æ•¸ç©©å®šæ€§**: å‚³å…¥çš„ `onCursed` å’Œ `onContractReady` æ‡‰ä½¿ç”¨ `useCallback` åŒ…è£¹

### TalismanGenerator çµ„ä»¶

1. **å­—é«”è¼‰å…¥**: ç¢ºä¿å°ˆæ¡ˆä¸­åŒ…å« `serif` å­—é«”ï¼ˆä¸­æ–‡æ¥·é«”ï¼‰
2. **Canvas æ”¯æ´**: éœ€è¦ç€è¦½å™¨æ”¯æ´ Canvas APIï¼ˆæ‰€æœ‰ç¾ä»£ç€è¦½å™¨éƒ½æ”¯æ´ï¼‰
3. **åœ–ç‰‡å¤§å°**: ç”Ÿæˆçš„ PNG ç´„ 500KB-1MBï¼Œå»ºè­°æç¤ºä½¿ç”¨è€…
4. **lucide-react ä¾è³´**: ç¢ºä¿å·²å®‰è£ `npm install lucide-react`

### æ•´åˆå»ºè­°

1. **æ¸¬è©¦åˆ†é åˆ‡æ›**: åœ¨é–‹ç™¼æ™‚å‹™å¿…æ¸¬è©¦æ‡²ç½°æ©Ÿåˆ¶æ˜¯å¦æ­£å¸¸è§¸ç™¼
2. **éŸ³æ•ˆæ•´åˆ**: å»ºè­°æ­é… `useSound` Hook åœ¨é—œéµæ™‚åˆ»æ’­æ”¾éŸ³æ•ˆ
3. **éŸ¿æ‡‰å¼è¨­è¨ˆ**: ç¬¦å’’é è¦½åœ¨æ‰‹æ©Ÿç«¯æœƒè‡ªå‹•ç¸®å°ï¼Œç¢ºä¿æ˜“è®€æ€§
4. **ç„¡éšœç¤™è€ƒé‡**: æä¾›ã€Œè·³éè¨ˆæ™‚ã€é¸é …çµ¦ä¸æƒ³ç­‰å¾…çš„ä½¿ç”¨è€…

---

## ğŸ”„ æ›´æ–°æ—¥èªŒ

### v3.0 (2025-12-13)
- âœ¨ æ–°å¢ `useSoulBinding` Hook
- âœ¨ æ–°å¢ `TalismanGenerator` çµ„ä»¶
- âœ¨ æ–°å¢å®Œæ•´æ•´åˆç¯„ä¾‹ `EXAMPLE_LandingPage.tsx`
- ğŸ“ æ–°å¢è©³ç´°ä½¿ç”¨æŒ‡å—

---

## ğŸ“š ç›¸é—œæ–‡æª”

- **å®‰è£æŒ‡å—**: INSTALLATION_GUIDE.md
- **çµ„ä»¶æ¦‚è¦½**: README.md
- **UI/UX è©•ä¼°**: UI_UX_å°ˆæ¥­è©•ä¼°å ±å‘Š.md
- **å®Œæ•´æ¸…å–®**: å®Œæ•´å…§å®¹æ¸…å–®.md

---

**æ’°å¯«æ—¥æœŸ**: 2025-12-13  
**é©ç”¨ç‰ˆæœ¬**: v3.0+  
**ä½œè€…**: Claude (Anthropic)
